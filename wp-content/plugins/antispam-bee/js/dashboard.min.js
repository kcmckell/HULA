(function(){var q=[],b=[];jQuery("#ab_chart_data tfoot th").each(function(){q.push(jQuery(this).html())});jQuery("#ab_chart_data tbody td").each(function(){b.push(jQuery(this).html())});var r=jQuery("#ab_chart").parent().width(),d=Raphael("ab_chart",r,140),a={font:"bold 10px Helvetica, Arial",fill:"#333"},e=(r-0)/q.length,s=Math.max.apply(Math,b),u=100/s;d.drawGrid(0+0.5*e,20,r-0-e,100,10,10,"#eaeaea");d.text(26,32,s).attr({font:"normal 10px Helvetica, Arial",fill:"#ccc"});var s=d.path().attr({stroke:"#3399CC",
"stroke-width":4,"stroke-linejoin":"round"}),c=d.set(),v=0,w=0,p=!1,x,t=d.set();c.push(d.text(60,12,"24\u00d7 Spam").attr(a));c.push(d.text(60,27,"15.08.2013").attr(a).attr({fill:"#3399CC"}));c.hide();for(var n=d.popup(100,100,c,"right").attr({fill:"#fff",stroke:"#333","stroke-width":2,"fill-opacity":0.8}).hide(),k,a=0,y=q.length;a<y;a++){var f=Math.round(120-u*b[a]),g=Math.round(0+e*(a+0.5));a||(k=["M",g,f,"C",g,f]);if(a&&a<y-1){var h=Math.round(120-u*b[a-1]),z=Math.round(0+e*(a-0.5)),A=Math.round(120-
u*b[a+1]),B=Math.round(0+e*(a+1.5)),h=getAnchors(z,h,g,f,B,A);k=k.concat([h.x1,h.y1,g,f,h.x2,h.y2])}h=d.circle(g,f,3).attr({fill:"#fff",stroke:"#3399CC","stroke-width":2});t.push(d.rect(0+e*a,0,e,120).attr({stroke:"none",fill:"#fff",opacity:0}));var C=t[t.length-1];(function(a,f,g,h,e){C.hover(function(){clearTimeout(x);var b="right";a+n.getBBox().width>r&&(b="left");var l=d.popup(a,f,c,b,1),b=Raphael.animation({path:l.path,transform:["t",l.dx,l.dy]},200*p);v=c[0].transform()[0][1]+l.dx;w=c[0].transform()[0][2]+
l.dy;n.show().stop().animate(b);var m=new Date(1E3*h),l=(10>m.getDate()?"0":"")+m.getDate(),k=(10>m.getMonth()+1?"0":"")+(m.getMonth()+1),m=m.getFullYear();c[0].attr({text:g+"\u00d7 Spam"}).show().stop().animateWith(n,b,{transform:["t",v,w]},200*p);c[1].attr({text:l+"."+k+"."+m}).show().stop().animateWith(n,b,{transform:["t",v,w]},200*p);e.attr("r",5);p=!0},function(){e.attr("r",3);x=setTimeout(function(){n.hide();c[0].hide();c[1].hide();p=!1},1)})})(g,f,b[a],q[a],h)}k=k.concat([g,f,g,f]);s.attr({path:k});
n.toFront();c[0].toFront();c[1].toFront();t.toFront()})();