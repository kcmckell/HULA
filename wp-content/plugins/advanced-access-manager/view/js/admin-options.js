/*
  Copyright (C) <2011>  Vasyl Martyniuk <martyniuk.vasyl@gmail.com>

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
function aamObject(){this.sort_status="passive";this.form_status="";this.editor=null;this.hide_apply_all=parseInt(aamLocal.hide_apply_all);this.default_capset={radio2:"moderate_comments manage_categories manage_links upload_files unfiltered_html edit_posts edit_others_posts edit_published_posts publish_posts edit_pages read level_7 level_6 level_5 level_4 level_3 level_2 level_1 level_0 edit_others_pages edit_published_pages publish_pages delete_pages delete_others_pages delete_published_pages delete_posts delete_others_posts delete_published_posts delete_private_posts read_private_posts delete_private_pages edit_private_pages read_private_pages".split(" "), radio3:"upload_files edit_posts edit_others_posts edit_published_posts publish_posts read level_2 level_1 level_0 delete_posts delete_published_posts".split(" "),radio4:["edit_posts","read","level_1","level_0","delete_posts"],radio5:["read","level_0"]}} aamObject.prototype.initMainMenuTab=function(){var a=this;a.initAccordion(jQuery(".main-menu-accordion"));jQuery(".main-menu-accordion > div").each(function(){jQuery("#whole",this).bind("click",{_this:this},function(a){var c=jQuery(this).attr("checked")?!0:!1;jQuery("input:checkbox",a.data._this).attr("checked",c)})});jQuery(".reorganize-menu").bind("click",function(b){b.preventDefault();b=jQuery(".main-menu-help");if("passive"!=a.sort_status){if("sorted"==a.sort_status)if(parseInt(jQuery("#current_user").val()))a.saveMenuOrder(!1); else{var c=aamLocal.LABEL_100.replace("%s",jQuery("#current-role-display").html()),d={resizable:!1,height:165,modal:!0,title:aamLocal.LABEL_99,buttons:{}};d.buttons[aamLocal.LABEL_130]=function(){a.saveMenuOrder(!1);jQuery(this).dialog("close")};d.buttons[aamLocal.LABEL_131]=function(){a.saveMenuOrder(!0);jQuery(this).dialog("close")};a.showGeneralDialog(d,c)}a.sort_status="passive";a.changeText(jQuery(".help-text",b),aamLocal.LABEL_172);a.changeText(jQuery(".reorganize-menu",b),aamLocal.LABEL_12); a.initAccordion(jQuery(".main-menu-accordion"))}else a.changeText(jQuery(".help-text",b),aamLocal.LABEL_11),a.changeText(jQuery(".reorganize-menu",b),aamLocal.LABEL_173),a.initAccordion(jQuery(".main-menu-accordion"),!0),a.sort_status="active"})}; aamObject.prototype.saveMenuOrder=function(a){var b=this,c={action:"mvbam",sub_action:"save_order",_ajax_nonce:aamLocal.nonce,apply_all:a?1:0,role:jQuery("#current_role").val(),user:jQuery("#current_user").val(),menu:[]};jQuery(".main-menu-accordion > div").each(function(){c.menu.push(jQuery(this).attr("id"))});jQuery.post(aamLocal.ajaxurl,c,function(a){"success"==a.status?"submitted"==b.form_status&&jQuery("#aam-form").submit():b.showErrorMessage(a.message)},"json")}; aamObject.prototype.initMetaboxTab=function(){var a=this;a.initAccordion(jQuery(".metabox-accordion"));jQuery(".refresh-metagox-list").bind("click",function(b){b.preventDefault();jQuery(".metabox-help").hide();jQuery("#progressbar").progressbar({value:0}).show();a.runChain("")});jQuery(".initialize-url").bind("click",function(b){b.preventDefault();b=jQuery(".initialize-url-text").val();jQuery.trim(b)?(jQuery(".metabox-help").hide(),jQuery("#progressbar").progressbar({value:20}).show(),jQuery.post(aamLocal.ajaxurl, {action:"mvbam",sub_action:"initiate_url",_ajax_nonce:aamLocal.nonce,url:b},function(b){jQuery(".initialize-url-text").val("");"success"==b.status?(jQuery("#progressbar").progressbar("option","value",100),a.grabMetaboxes()):a.emergencyCall(b)},"json")):jQuery(".initialize-url-text").effect("highlight",3E3)})}; aamObject.prototype.runChain=function(a){var b=this;jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"initiate_wm",_ajax_nonce:aamLocal.nonce,next:a},function(a){jQuery("#progressbar").progressbar("option","value",a.value);"success"==a.status?a.next?b.runChain(a.next):(jQuery("#progressbar").progressbar("option","value",100),b.grabMetaboxes()):b.emergencyCall(a)},"json")}; aamObject.prototype.grabMetaboxes=function(){var a=this;jQuery("#progressbar").progressbar("destroy").hide();jQuery(".metabox-help").show();jQuery(".metabox-accordion").empty().css({height:"200px",width:"100%"});this.showAjaxLoader(".metabox-accordion");var b={action:"mvbam",sub_action:"render_metabox_list",_ajax_nonce:aamLocal.nonce,role:jQuery("#current_role").val(),user:jQuery("#current_user").val()};jQuery.post(aamLocal.ajaxurl,b,function(b){"success"==b.status?(jQuery("#tabs-2").html(b.html), a.initMetaboxTab()):a.showErrorMessage(aamLocal.LABEL_25)},"json")}; aamObject.prototype.emergencyCall=function(a){var b=this;jQuery.ajax(a.url,{success:function(){a.next?b.runChain(a.next):(jQuery("#progressbar").progressbar("option","value",100),b.grabMetaboxes())},error:function(c,d){"timeout"!=d?a.next?b.runChain(a.next):(jQuery("#progressbar").progressbar("option","value",100),b.grabMetaboxes()):(b.showErrorMessage(aamLocal.LABEL_133),jQuery("#progressbar").progressbar("option","value",100),b.grabMetaboxes())},timeout:5E3})}; aamObject.prototype.initCapabilityTab=function(){var a=this;jQuery(".default-cap-set > a").each(function(){var b=jQuery(this).attr("id");jQuery(this).bind("click",function(c){c.preventDefault();a.changeCapabilities(b)})});jQuery("#new-capability").bind("click",function(b){b.preventDefault();a.addNewCapability()});jQuery("#add-user-toblog").bind("click",function(){jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"add_blog_admin",_ajax_nonce:aamLocal.nonce},function(b){"success"!=b.status&&a.showErrorMessage(b.message)}, "json")})};aamObject.prototype.changeCapabilities=function(a){switch(a){case "radio1":jQuery(".capability-item input").attr("checked",!0);break;case "radio2":case "radio3":case "radio4":case "radio5":jQuery(".capability-item input").attr("checked",!1);var b="",c;for(c in this.default_capset[a])b='.capability-item input[name*="[',b+=this.default_capset[a][c]+']"]',jQuery(b).attr("checked",!0);break;case "radio6":jQuery(".capability-item input").attr("checked",!1)}}; aamObject.prototype.addNewCapability=function(){var a=this;jQuery("#capability-form #new-cap").val("").focus();var b={resizable:!1,height:"auto",modal:!0,buttons:{}};b.buttons[aamLocal.LABEL_132]=function(){var b=jQuery("#capability-form #new-cap").val();jQuery.trim(b)?(jQuery(this).dialog("close"),b={action:"mvbam",sub_action:"add_capability",_ajax_nonce:aamLocal.nonce,cap:b,role:jQuery("#current_role").val(),user:jQuery("#current_user").val()},jQuery.post(aamLocal.ajaxurl,b,function(b){"success"== b.status?jQuery(".capability-item:last").after(b.html):a.showErrorMessage(b.message)},"json")):jQuery("#capability-form #new-cap").effect("highlight",5E3)};b.buttons[aamLocal.LABEL_77]=function(){jQuery(this).dialog("close")};jQuery("#capability-form").dialog(b)}; aamObject.prototype.deleteCapability=function(a,b){var c=this,d={resizable:!1,height:180,modal:!0,title:aamLocal.LABEL_101,buttons:{}};d.buttons[aamLocal.LABEL_24]=function(){jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"delete_capability",_ajax_nonce:aamLocal.nonce,cap:a},function(b){"success"==b.status?jQuery("#cap-"+a).parent().parent().remove():c.showErrorMessage(b.message)},"json");jQuery(this).dialog("close")};d.buttons[aamLocal.LABEL_77]=function(){jQuery(this).dialog("close")}; c.showGeneralDialog(d,aamLocal.LABEL_102.replace("%s",b))};aamObject.prototype.initPostTaxonomyTab=function(){var a=this;a.initPostTaxonomyTree();jQuery("#sidetreecontrol span").bind("click",function(){jQuery("#tree").replaceWith('<ul id="tree" class="filetree"></ul>');a.initPostTaxonomyTree()})}; aamObject.prototype.initPostTaxonomyTree=function(){jQuery("#tree").treeview({url:aamLocal.ajaxurl,ajax:{data:{action:"mvbam",sub_action:"get_treeview",_ajax_nonce:aamLocal.nonce},type:"post"},animated:"medium",control:"#sidetreecontrol",persist:"location"})}; aamObject.prototype.loadInfo=function(a,b,c,d){var e=this;"undefined"!=typeof a.preventDefault?a.preventDefault():a.returnValue=!1;this.showAjaxLoader(".post-information","small");a={action:"mvbam",sub_action:"get_info",_ajax_nonce:aamLocal.nonce,type:b,role:jQuery("#current_role").val(),user:jQuery("#current_user").val(),id:c,restore:d};jQuery.post(aamLocal.ajaxurl,a,function(a){e.removeAjaxLoader(".post-information","small");if("success"==a.status){var d=jQuery(".post-information");jQuery("#post-date", d).html(a.html);jQuery(".save-postinfo",d).bind("click",function(a){a.preventDefault();e.saveInfo(e,d,b,c,0)});jQuery(".save-postinfo-all",d).bind("click",function(a){a.preventDefault();0==parseInt(jQuery("#current_user").val())&&(e.hide_apply_all?e.saveInfo(e,d,b,c,1):(a={resizable:!1,height:204,width:320,modal:!0,buttons:{}},a.buttons[aamLocal.LABEL_137]=function(){e.saveInfo(e,d,b,c,1);e.hide_apply_all=jQuery("#hide-apply-all").attr("checked")?1:0;jQuery(this).dialog("close")},a.buttons[aamLocal.LABEL_77]= function(){jQuery(this).dialog("close")},jQuery("#dialog-apply-all").dialog(a)))});jQuery("#frontend_browse").bind("change",function(){jQuery(this).attr("checked")?jQuery(".frontend-browse").attr("checked",!0):jQuery(".frontend-browse").attr("checked",!1)});jQuery("#backend_browse").bind("change",function(){jQuery(this).attr("checked")?jQuery(".backend-browse").attr("checked",!0):jQuery(".backend-browse").attr("checked",!1)});jQuery("#post_in_category").bind("change",function(){jQuery(this).attr("checked")? jQuery(".incat-check").attr("disabled",!1):jQuery(".incat-check").attr("disabled",!0)});jQuery("#post_in_category").attr("checked")||jQuery(".incat-check").attr("disabled",!0);jQuery(".restore-postinfo",d).bind("click",function(a){a.preventDefault();var d={resizable:!1,height:"auto",modal:!0,title:aamLocal.LABEL_177,buttons:{}};d.buttons[aamLocal.LABEL_130]=function(){e.loadInfo(a,b,c,!0);jQuery(this).dialog("close")};d.buttons[aamLocal.LABEL_77]=function(){jQuery(this).dialog("close")};e.showGeneralDialog(d, aamLocal.LABEL_176)})}else alert(aamLocal.LABEL_138)},"json")}; aamObject.prototype.saveInfo=function(a,b,c,d,e){var f=this;a.showAjaxLoader(".post-information","small");this.form_status="";c={action:"mvbam",sub_action:"save_info",_ajax_nonce:aamLocal.nonce,role:jQuery("#current_role").val(),user:jQuery("#current_user").val(),info:{id:d,type:c,data:jQuery(".restriction-table :input").serializeArray()},apply:e,apply_all_cb:this.hide_apply_all};jQuery.post(aamLocal.ajaxurl,c,function(c){a.removeAjaxLoader(".post-information","small");if("success"==c.status)jQuery("#expire-success-message", b).show().delay(5E3).hide("slow");else{jQuery("#expire-error-message",b).show().delay(1E4).hide("slow");var d={resizable:!1,height:190,modal:!0,title:aamLocal.LABEL_114,buttons:{}};d.buttons[aamLocal.LABEL_76]=function(){jQuery(this).dialog("close")};f.showGeneralDialog(d,c.message)}},"json")}; aamObject.prototype.initConfigPressTab=function(){this.editor=CodeMirror.fromTextArea(document.getElementById("access_config"),{mode:{name:"ini",htmlMode:!0},lineNumbers:!0});jQuery("#cp-ref").bind("click",function(){jQuery("#cp-ref-trigger").trigger("click")})}; aamObject.prototype.initGeneralMetabox=function(){var a=this;jQuery(".change-role").bind("click",function(a){a.preventDefault();jQuery("div #role-select").show();jQuery(this).hide()});jQuery(".change-user").bind("click",function(a){a.preventDefault();jQuery("div #user-select").show();jQuery(this).hide()});jQuery("#role-ok").bind("click",function(b){b.preventDefault();a.changeRole()});jQuery("#user-ok").bind("click",function(b){b.preventDefault();a.changeUser()});jQuery("#role-cancel").bind("click", function(a){a.preventDefault();jQuery("div #role-select").hide();jQuery(".change-role").show()});jQuery("#user-cancel").bind("click",function(a){a.preventDefault();jQuery("div #user-select").hide();jQuery(".change-user").show()});jQuery(".restore-conf").bind("click",function(b){b.preventDefault();a.restoreDefault()})};aamObject.prototype.changeRole=function(){this.getRoleOptionList(jQuery("#role").val());this.toggleUserSelector()}; aamObject.prototype.toggleUserSelector=function(){"_visitor"==jQuery("#current_role").val()?jQuery(".misc-user-section").hide():jQuery(".misc-user-section").show()};aamObject.prototype.changeUser=function(){this.getUserOptionList(jQuery("#current_role").val(),jQuery("#user").val())}; aamObject.prototype.getRoleOptionList=function(a){this.showAjaxLoader(".aam-tabs");var b={action:"render_optionlist",_ajax_nonce:aamLocal.nonce,role:a};jQuery("#current_role").val(a);var c=this;this.sort_status="passive";jQuery.post(aamLocal.handlerURL,b,function(b){"success"==b.status?(jQuery("#metabox-wpaccess-options").replaceWith(b.html),c.initMainMetabox(),jQuery("div #role-select").hide(),jQuery("#current-role-display").html(jQuery("#role option:selected").text()),jQuery(".change-role").show(), b={action:"mvbam",sub_action:"get_userlist",_ajax_nonce:aamLocal.nonce,role:a},jQuery("#current_user").val(0),jQuery.post(aamLocal.ajaxurl,b,function(a){"success"==a.status?(jQuery("#user").html(a.html),jQuery("div #user-select").hide(),jQuery(".change-user").show(),jQuery("#current-user-display").html(jQuery("#user option:eq(0)").text())):c.showErrorMessage("Error during User List preparation")},"json")):c.showErrorMessage("Error during Option List preparation")},"json")}; aamObject.prototype.getUserOptionList=function(a,b){this.showAjaxLoader(".aam-tabs");var c={action:"render_optionlist",_ajax_nonce:aamLocal.nonce,role:a,user:b};jQuery("#current_user").val(b);var d=this;this.sort_status="passive";jQuery.post(aamLocal.handlerURL,c,function(a){"success"==a.status?(jQuery("#metabox-wpaccess-options").replaceWith(a.html),d.initMainMetabox(),jQuery("div #user-select").hide(),jQuery("#current-user-display").html(jQuery("#user option:selected").text()),jQuery(".change-user").show()): d.showErrorMessage("Error during Option List preparation")},"json")}; aamObject.prototype.restoreDefault=function(){var a=this,b={resizable:!1,height:180,modal:!0,title:aamLocal.LABEL_103,buttons:{}};b.buttons[aamLocal.LABEL_135]=function(){var b=jQuery("#current_role").val(),d=parseInt(jQuery("#current_user").val()),e=this;jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:d?"restore_user":"restore_role",_ajax_nonce:aamLocal.nonce,role:b,user:d},function(f){"success"==f.status?d?a.getUserOptionList(b,d):a.getRoleOptionList(b):a.showErrorMessage(aamLocal.LABEL_136); jQuery(e).dialog("close")},"json")};b.buttons[aamLocal.LABEL_77]=function(){jQuery(this).dialog("close")};this.showGeneralDialog(b,aamLocal.LABEL_104)};aamObject.prototype.submitForm=function(){jQuery("#ajax-loading").show();var a=!0;"sorted"==this.sort_status&&(this.form_status="submitted",this.saveMenuOrder(!1),a=!1);return a}; aamObject.prototype.initRoleManagerMetabox=function(){var a=this;jQuery("#role-tabs").tabs();this.initRoleNameList();jQuery("#new-role-ok").bind("click",function(b){b.preventDefault();a.addNewRole()});jQuery("#new-role-name").keypress(function(b){13==b.which&&(b.preventDefault(),a.addNewRole())})};aamObject.prototype.initRoleNameList=function(){var a=this;jQuery(".delete-role-table tbody > tr").each(function(){a.initRoleNameRow(this)})}; aamObject.prototype.initRoleNameRow=function(a){var b=this,c=jQuery(a).attr("id"),d=c.match(/\-([0-9a-z_]+)$/i);jQuery(".role-name",a).bind("click",function(){var a=jQuery(this).text();jQuery(this).replaceWith('<input type="text" value="'+a+'" id="edit-role-name" />');jQuery("#edit-role-name").bind("blur",function(){b.updateRoleName(d[1],c,a,this)});jQuery("#edit-role-name").keypress(function(f){13==f.which&&(f.preventDefault(),b.updateRoleName(d[1],c,a,this))});jQuery("#edit-role-name").focus()})}; aamObject.prototype.updateRoleName=function(a,b,c,d){var e=this,f=jQuery(d).val();f!=c?(this.showAjaxLoader(".delete-role-table","small"),jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"update_role_name",_ajax_nonce:aamLocal.nonce,role_id:a,label:f},function(d){e.removeAjaxLoader(".delete-role-table","small");"success"==d.status?e.UpdateRoleNameOk(f,b,a):e.UpdateRoleNameError(c,b,a)},"json")):e.UpdateRoleNameOk(f,b,a)}; aamObject.prototype.UpdateRoleNameOk=function(a,b,c){jQuery("#edit-role-name").replaceWith('<span class="role-name">'+a+"</span>");this.initRoleNameRow(jQuery("#dl-row-"+c));jQuery("#"+b).effect("highlight",{color:"#72f864"},3E3);jQuery("#current_role").val()==c&&jQuery("#current-role-display").html(a);jQuery('#role option[value="'+c+'"]').text(a)}; aamObject.prototype.UpdateRoleNameError=function(a,b,c){jQuery("#edit-role-name").replaceWith('<span class="role-name">'+a+"</span>");this.initRoleNameRow(jQuery("#dl-row-"+c));jQuery("#"+b).effect("highlight",{color:"#f6a499"},3E3)}; aamObject.prototype.addNewRole=function(){var a=jQuery.trim(jQuery("#new-role-name").val());if(a){jQuery("#new-role-name").val("");jQuery(".new-role-name-empty").show();this.showAjaxLoader(".aam-tabs");var b=this;jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"create_role",_ajax_nonce:aamLocal.nonce,role:a},function(c){if("success"==c.result){var d='<option value="'+c.new_role+'">'+a+"</option>";jQuery("#role option:last").after(d);jQuery("#role").val(c.new_role);b.getRoleOptionList(c.new_role); jQuery("div #new-role-form").hide();jQuery(".change-role").show();jQuery(".delete-role-table tbody").append(c.html);jQuery("#new-role-message-ok").show().delay(2E3).hide("slow");b.initRoleNameRow(jQuery("#dl-row-"+c.new_role));b.toggleUserSelector()}else b.removeAjaxLoader(".aam-tabs"),b.showErrorMessage(aamLocal.LABEL_91)},"json")}else jQuery("#new-role-name").effect("highlight",3E3)}; aamObject.prototype.deleteRole=function(a){var b=aamLocal.LABEL_98.replace("%s",jQuery(".delete-role-table #dl-row-"+a+" td:first").html()),c=this,d={resizable:!1,height:180,modal:!0,title:aamLocal.LABEL_97,buttons:{}};d.buttons[aamLocal.LABEL_134]=function(){jQuery.post(aamLocal.ajaxurl,{action:"mvbam",sub_action:"delete_role",_ajax_nonce:aamLocal.nonce,role:a},function(){jQuery(".delete-role-table #dl-row-"+a).remove();jQuery('#role option[value="'+a+'"]').attr("selected")&&c.getRoleOptionList(jQuery("#role option:first").val()); jQuery('#role option[value="'+a+'"]').remove();c.toggleUserSelector()});jQuery(this).dialog("close")};d.buttons[aamLocal.LABEL_77]=function(){jQuery(this).dialog("close")};c.showGeneralDialog(d,b)}; aamObject.prototype.init=function(){var a=this;this.initMainMetabox();this.initGeneralMetabox();this.initRoleManagerMetabox();if(1==aamLocal.first_time){var b={action:"mvbam",sub_action:"create_super",_ajax_nonce:aamLocal.nonce,answer:0},c={resizable:!1,height:"auto",width:450,modal:!0,title:aamLocal.LABEL_115,buttons:{}};c.buttons[aamLocal.LABEL_76]=function(){b.answer=1;var c=this;a.showAjaxLoader("#dialog-firsttime");jQuery.post(aamLocal.ajaxurl,b,function(b){a.removeAjaxLoader("#dialog-firsttime"); "success"==b.result?window.location.reload(!0):a.showErrorMessage(aamLocal.LABEL_25);jQuery(c).dialog("close")},"json")};a.showGeneralDialog(c,aamLocal.LABEL_147)}jQuery("#aam-form").bind("change",function(){mObj.form_status="changed"});jQuery(".message-active").show().delay(5E3).hide("slow");jQuery(".plugin-notification p").length&&jQuery("#aam_wrap").addClass("aam-warning");jQuery("#aam_wrap").show()}; aamObject.prototype.initMainMetabox=function(){var a=this;jQuery(".aam-tabs").tabs({show:function(b,c){4==c.index&&a.editor.refresh()}});this.initMainMenuTab();this.initMetaboxTab();this.initCapabilityTab();this.initPostTaxonomyTab();this.initConfigPressTab()}; aamObject.prototype.initAccordion=function(a,b){var c=this;jQuery(a).accordion("destroy");var d=jQuery(a).accordion({collapsible:!0,header:"h4",autoHeight:!1,icons:{header:"ui-icon-circle-arrow-e",headerSelected:"ui-icon-circle-arrow-s"},active:-1});!0===b&&d.sortable({axis:"y",handle:"h4",stop:function(){c.sort_status="sorted"}})};aamObject.prototype.changeText=function(a,b){jQuery(a).html(b)}; aamObject.prototype.showGeneralDialog=function(a,b){jQuery("#general-dialog").dialog("destroy");jQuery("#general-dialog .dialog-text").html(b);jQuery("#general-dialog").dialog(a)};aamObject.prototype.showErrorMessage=function(a){var b={resizable:!1,height:"auto",modal:!0,title:aamLocal.LABEL_25,buttons:{}};b.buttons[aamLocal.LABEL_76]=function(){jQuery(this).dialog("close")};this.showGeneralDialog(b,a)}; aamObject.prototype.showAjaxLoader=function(a,b){jQuery(a).addClass("loading-new");var c="small"==b?"ajax-loader-small":"ajax-loader-big";jQuery(a).prepend('<div class="'+c+'"></div>');jQuery("."+c).css({top:jQuery(a).height()/2-("small"==b?16:50),left:jQuery(a).width()/2-("small"==b?8:25)})};aamObject.prototype.removeAjaxLoader=function(a,b){jQuery(a).removeClass("loading-new");jQuery("."+("small"==b?"ajax-loader-small":"ajax-loader-big")).remove()}; jQuery(document).ready(function(){try{mObj=new aamObject,mObj.init()}catch(a){jQuery("#aam_wrap").addClass("aam-error"),jQuery(".plugin-notification").append("<p>"+aamLocal.LABEL_166+"</p>")}});